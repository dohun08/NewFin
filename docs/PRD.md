NewFin(뉴핀) - PRD (Product Requirements Document)
1. 제품 개요
1.1 제품명
NewFin(뉴핀) - 금융 학습 도우미 앱
1.2 제품 컨셉
"하루하루 금융지식을 성장시켜주는 서비스"
금융 뉴스를 쉽게 설명하고, 어려운 용어를 쉽게 풀어주며, 퀴즈로 복습을 도와주는 학습형 금융 앱입니다.
1.3 타겟 사용자

주 연령층: 10대 후반 (17~19세)
페르소나: 금융에 관심은 있지만 전문 용어와 복잡한 기사 때문에 어려움을 겪는 청소년 및 초보 금융 학습자

1.4 핵심 가치 제안
"금융 기사를 읽고 싶은데 용어가 너무 어려워! 바로바로 용어 뜻을 알려주고, 내용 요약에 퀴즈로 복습까지!"

2. 핵심 기능 요구사항 (MVP)
2.1 뉴스 피드 & 요약
기능 설명

홈 화면의 '오늘의 뉴스 보기' 버튼을 통해 뉴스 목록 페이지로 이동
NewsAPI를 통해 한국 비즈니스 뉴스 수집 (페이지네이션 지원)
스크롤을 통해 과거 뉴스까지 계속해서 탐색 가능
Gemini API를 활용하여 뉴스 원문을 3~5문장으로 요약

AI 구현 요청사항
- NewsAPI(https://newsapi.org/s/south-korea-business-news-api)를 호출하여 
  한국 비즈니스 뉴스 가져오기
- Gemini API로 뉴스 원문을 입력받아 "10대 후반이 이해하기 쉬운 
  3~5문장 요약문"으로 변환하는 프롬프트 작성 및 API 연동
- 요약 결과를 카드 UI로 표시 (제목, 요약문, 원문 링크, 날짜)
- 카드 탭 시 상세 화면으로 이동
UI/UX 요구사항

밝고 친근한 컬러 스킴 적용 (#5409DB, #4F71FF, #8DD8FF, #BCFBFF)
스크롤 가능한 세로 카드 리스트
로딩 인디케이터 표시


2.2 실시간 용어 해설
기능 설명

뉴스 본문 내 금융 전문 용어를 자동 하이라이트
용어 탭 시 즉시 간단한 정의와 예시 문장 팝업 표시
1차: 공공데이터포털 금융용어 사전 API 조회
2차(1차 결과 없을 시): Gemini API로 용어 해설 생성

AI 구현 요청사항
- 뉴스 본문에서 금융 용어로 추정되는 단어 추출 
  (예: "금리", "주가지수", "환율", "채권" 등)
- 추출된 용어를 공공데이터포털 금융용어 API
  (https://www.data.go.kr/data/15001156/openapi.do)로 조회
- API 응답이 없거나 실패 시, Gemini API에 
  "'{용어}'를 10대가 이해할 수 있도록 1~2문장으로 쉽게 설명하고, 
  간단한 예시 문장 1개를 추가해줘" 프롬프트 전송
- 결과를 Term 모델로 저장 (id, term, definition, example, relatedNewsId)
- SQLite에 캐싱하여 동일 용어 재조회 시 즉시 표시
UI/UX 요구사항

본문 내 금융 용어는 밝은 파란색(#4F71FF) 언더라인으로 표시
용어 탭 시 팝업(바텀시트 또는 다이얼로그) 표시
팝업 내용: 용어명 / 정의 / 예시 / "자세히 보기" 버튼


2.3 학습 퀴즈
기능 설명

뉴스를 다 읽은 후 복습을 위한 객관식 퀴즈 3문항 제공
Gemini API를 활용하여 뉴스 내용 기반 퀴즈 3개 생성
정답/오답 즉시 피드백 및 결과 페이지 제공

AI 구현 요청사항
- 사용자가 읽은 뉴스 요약문을 Gemini API에 전달
- 프롬프트: "다음 금융 뉴스 요약을 읽고, 10대 학습자를 위한 
  객관식 문제 3개를 생성해줘. 
  각 문제는 다음을 포함해야 함:
  - 질문
  - 선택지 4개 (정답 1개 포함)
  - 정답 인덱스
  - 해설 1~2문장
  JSON 형식으로 반환: 
  [{question, options: [], correctIndex, explanation}, ...]"
- 생성된 퀴즈를 Quiz 모델로 저장
- 사용자 응답 기록 및 정답률 계산
UI/UX 요구사항

"오늘 배운 내용을 퀴즈로 복습해볼까?" 라는 멘트와 함께 퀴즈 시작
객관식 4지선다 버튼 UI
정답 선택 시: "정답이야!" 메시지와 함께 피드백
오답 선택 시: "아쉽지만 이렇게 기억해봐!" + 해설 표시
퀴즈 통계 화면: 총 문제 수 / 정답 수 / 정답률 / 날짜별 기록


3. 기술 스택 및 API 연동
3.1 외부 API
API용도엔드포인트NewsAPI한국 비즈니스 뉴스 수집https://newsapi.org/s/south-korea-business-news-apiGemini API뉴스 요약, 퀴즈 생성, 용어 해설(2차)Google AI Studio공공데이터 금융용어금융 용어 정의 조회(1차)https://www.data.go.kr/data/15001156/openapi.do
3.2 프레임워크 & 라이브러리

Flutter: 크로스플랫폼 앱 개발
Riverpod + StateNotifier: 상태 관리
dio: HTTP 통신
sqflite: 로컬 DB (뉴스 캐시, 퀴즈 기록, 용어 저장)
go_router: 화면 라우팅
freezed + json_serializable: 데이터 모델


4. 데이터 모델
4.1 Article (뉴스)
dart{
  id: String,
  title: String,
  summary: String,        // Gemini 생성 요약
  content: String,        // 원문 (또는 일부)
  url: String,
  keywords: List<String>,
  publishedAt: DateTime,
  category: String,
  isFavorite: bool
}
4.2 Term (용어)
dart{
  id: String,
  term: String,
  definition: String,     // 공공API 또는 Gemini 해설
  example: String,
  relatedNewsId: String,  // FK
  source: String          // 'public_api' | 'gemini'
}
4.3 Quiz (퀴즈)
dart{
  id: String,
  newsId: String,         // FK
  question: String,
  options: List<String>,
  correctIndex: int,
  explanation: String,
  userAnswer: int?,
  isCorrect: bool?,
  attemptedAt: DateTime?
}
```

---

## 5. 화면 구성

### 5.1 홈 화면
- 상단: 사용자 기본 정보 및 환영 인사
- 주요 기능 바로가기:
  - **오늘의 뉴스 보기**: 최신 뉴스 목록으로 이동
  - **내 학습 현황**: 최근 학습 기록 요약
  - **용어 사전**: 저장된 용어 확인
- 하단 네비게이션: 홈 / 뉴스 / 퀴즈 / 설정

### 5.2 오늘의 뉴스 화면 (뉴스 목록)
- NewsAPI를 통해 가져온 최신 뉴스 리스트
- 무한 스크롤 또는 페이지네이션으로 과거 뉴스 로딩
- 각 뉴스 카드는 썸네일, 제목, 날짜 표시
- 클릭 시 뉴스 상세 화면으로 이동

### 5.3 뉴스 상세 화면
- **뉴스 요약**: 3~5문장 요약
- **용어 해설**: 본문 내 어려운 금융 용어는 하이라이트 처리, 클릭 시 쉽게 설명해주는 팝업 제공
- **원문 보기**: 필요 시 원문 링크로 이동 가능
- **학습 완료 버튼**: 다 읽으면 "복습 퀴즈 풀기" 버튼 활성화

### 5.4 퀴즈 화면
- 뉴스 학습 후 이어지는 복습 단계
- 총 3문제의 객관식 퀴즈 진행
- 문제 풀이 후 즉시 정답/오답 피드백
- 3문제를 모두 풀면 최종 결과 페이지 (점수, 해설) 표시

### 5.5 설정 화면
- 알림 설정
- 관심 키워드 등록
- 데이터 초기화

---

## 6. AI 에게 요청할 구현 사항 요약

### 6.1 NewsAPI 연동
```
- dio 패키지로 NewsAPI 호출
- 한국 비즈니스 뉴스 카테고리 필터링
- 응답 JSON을 Article 모델로 파싱
- SQLite에 캐싱 (오프라인 지원)
```

### 6.2 Gemini API - 뉴스 요약
```
- 뉴스 원문(content)을 Gemini API에 전송
- 프롬프트: "다음 금융 뉴스를 10대 후반이 이해하기 쉽게 
  3~5문장으로 요약해줘. 핵심만 간결하게."
- 응답 텍스트를 Article.summary에 저장
- 에러 처리: 요약 실패 시 원문 첫 3문장 사용
```

### 6.3 Gemini API - 퀴즈 생성
```
- 뉴스 요약문을 바탕으로 퀴즈 생성 요청
- 프롬프트: "다음 내용을 바탕으로 객관식 문제 3개를 만들어줘. 
  JSON 형식: List<{question, options: [4개], correctIndex, explanation}>"
- 응답 파싱 후 Quiz 모델 리스트 생성
- SQLite에 저장
```

### 6.4 공공데이터 금융용어 API 연동
```
- dio로 GET 요청
- 용어명으로 검색
- 응답에 정의 있으면 Term.definition에 저장
- 없으면 Gemini API로 폴백
```

### 6.5 Gemini API - 용어 해설 (폴백)
```
- 프롬프트: "'{용어}'를 10대가 이해할 수 있도록 
  1~2문장으로 쉽게 설명하고, 예시 1개를 들어줘."
- 응답을 Term 모델로 저장
```

### 6.6 UI/UX 통합
```
- 친근하고 상냥한 톤의 멘트 추가
  예: "오늘도 금융 공부 화이팅!", "이 용어는 이런 뜻이야!", "정답이야! 잘했어!"
- 로딩 인디케이터 표시
```

### 6.7 상태 관리 및 에러 핸들링
```
- Riverpod StateNotifier로 로딩/성공/에러 상태 관리
- API 호출 실패 시 재시도 로직
- 오프라인 모드: SQLite 캐시 데이터 우선 표시
- 사용자에게 친근한 에러 메시지 ("잠깐 문제가 생겼어. 다시 시도해줄래?")

7. 브랜딩 & 디자인 가이드
7.1 컬러 팔레트

Primary: #5409DB (보라)
Secondary: #4F71FF (파랑)
Accent: #8DD8FF (하늘)
Highlight: #BCFBFF (민트)

7.2 보이스 톤

상냥한: "어려운 용어도 내가 쉽게 설명해줄게!"
격려하는: "틀려도 괜찮아, 이렇게 배우는 거야!"
친근한: "오늘도 금융 공부 시작해볼까?"



8. 성공 지표 (MVP)

 NewsAPI 연동하여 실시간 뉴스 3~5개 표시
 Gemini로 뉴스 요약 자동 생성
 본문 내 금융 용어 자동 추출 및 해설 팝업 동작
 공공API + Gemini 용어 해설 2단계 조회 구현
 Gemini로 퀴즈 자동 생성 및 정답/오답 처리
 SQLite 캐싱으로 오프라인 모드 지원

 브랜드 컬러 적용된 UI 완성


9. 향후 확장 가능성 (Post-MVP)

사용자 맞춤 난이도 조절 (초급/중급/고급)
관심 키워드 알림 (푸시 알림)
뉴스 트렌드 시각화 (차트, 워드클라우드)
소셜 기능 (친구와 퀴즈 점수 비교)



10. 참고사항

모든 AI 프롬프트는 "10대 후반이 이해하기 쉽게"를 기준으로 작성
앱의 톤: 상냥하고 격려하는 친구 같은 느낌
API 키는 환경변수로 안전하게 관리
Gemini API 호출 시 토큰 제한 고려 (요약은 짧게, 퀴즈는 간결하게)